{
  "snapshotMetadata": {
    "version": -1
  },
  "flowContents": {
    "identifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab",
    "name": "OC DAR 5",
    "comments": "",
    "position": {
      "x": 0.0,
      "y": 0.0
    },
    "processGroups": [
      {
        "identifier": "9a8e99cd-0285-3586-adbe-343539135baf",
        "name": "Batch publish to Mongo",
        "comments": "",
        "position": {
          "x": 200.0,
          "y": 808.0
        },
        "processGroups": [],
        "remoteProcessGroups": [],
        "processors": [
          {
            "identifier": "542c4aef-41a0-3b04-b7d3-a16616e5a2f5",
            "name": "GenerateFlowFile",
            "comments": "",
            "position": {
              "x": 696.0,
              "y": 248.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.GenerateFlowFile",
            "properties": {
              "character-set": "UTF-8",
              "File Size": "0B",
              "mime-type": "application/json",
              "generate-ff-custom-text": "{\n    \"WINDOW_START\":\"${now():toNumber():minus(3600000):format(\"yyyy-MM-dd HH\"):toDate(\"yyyy-MM-dd HH\"):format(\"yyyy-MM-dd HH:mm:ss.000\")}\"\n}",
              "Batch Size": "1",
              "Unique FlowFiles": "false",
              "Data Format": "Text"
            },
            "propertyDescriptors": {
              "character-set": {
                "name": "character-set",
                "displayName": "Character Set",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "File Size": {
                "name": "File Size",
                "displayName": "File Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "mime-type": {
                "name": "mime-type",
                "displayName": "Mime Type",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "generate-ff-custom-text": {
                "name": "generate-ff-custom-text",
                "displayName": "Custom Text",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Batch Size": {
                "name": "Batch Size",
                "displayName": "Batch Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Unique FlowFiles": {
                "name": "Unique FlowFiles",
                "displayName": "Unique FlowFiles",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Data Format": {
                "name": "Data Format",
                "displayName": "Data Format",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 0 0/1 1/1 * ? *",
            "schedulingStrategy": "CRON_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "169406b8-abcd-34e3-90ba-10f997879960",
            "name": "UpdateAttribute",
            "comments": "",
            "position": {
              "x": 1432.0,
              "y": 528.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-update-attribute-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.attributes.UpdateAttribute",
            "properties": {
              "date": "${path:substringAfterLast(\"/\")}",
              "Delete Attributes Expression": null,
              "Store State": "Do not store state",
              "canonical-value-lookup-cache-size": "100",
              "Stateful Variables Initial Value": null
            },
            "propertyDescriptors": {
              "date": {
                "name": "date",
                "displayName": "date",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Delete Attributes Expression": {
                "name": "Delete Attributes Expression",
                "displayName": "Delete Attributes Expression",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Store State": {
                "name": "Store State",
                "displayName": "Store State",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "canonical-value-lookup-cache-size": {
                "name": "canonical-value-lookup-cache-size",
                "displayName": "Cache Value Lookup Cache Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Stateful Variables Initial Value": {
                "name": "Stateful Variables Initial Value",
                "displayName": "Stateful Variables Initial Value",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "707fa583-507e-3de9-b48d-9f4cdac14eb9",
            "name": "FetchHDFS",
            "comments": "",
            "position": {
              "x": 1432.0,
              "y": 352.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-hadoop-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.hadoop.FetchHDFS",
            "properties": {
              "HDFS Filename": "${path}/${filename}",
              "Hadoop Configuration Resources": "${HADOOP_CONF}",
              "kerberos-credentials-service": null,
              "Kerberos Keytab": null,
              "Additional Classpath Resources": null,
              "Kerberos Principal": null,
              "Compression codec": "NONE",
              "Kerberos Relogin Period": "4 hours"
            },
            "propertyDescriptors": {
              "HDFS Filename": {
                "name": "HDFS Filename",
                "displayName": "HDFS Filename",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Hadoop Configuration Resources": {
                "name": "Hadoop Configuration Resources",
                "displayName": "Hadoop Configuration Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "kerberos-credentials-service": {
                "name": "kerberos-credentials-service",
                "displayName": "Kerberos Credentials Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Kerberos Password": {
                "name": "Kerberos Password",
                "displayName": "Kerberos Password",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "Kerberos Keytab": {
                "name": "Kerberos Keytab",
                "displayName": "Kerberos Keytab",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Additional Classpath Resources": {
                "name": "Additional Classpath Resources",
                "displayName": "Additional Classpath Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Principal": {
                "name": "Kerberos Principal",
                "displayName": "Kerberos Principal",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Compression codec": {
                "name": "Compression codec",
                "displayName": "Compression codec",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Relogin Period": {
                "name": "Kerberos Relogin Period",
                "displayName": "Kerberos Relogin Period",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "3fe89851-97a6-3a67-89a9-eb3f959bd880",
            "name": "PutMongoRecord",
            "comments": "",
            "position": {
              "x": 1456.0,
              "y": 1480.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-mongodb-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.mongodb.PutMongoRecord",
            "properties": {
              "mongo-client-service": "c6098746-5a47-3570-8de1-4c539399e94b",
              "insert_count": "100",
              "Mongo URI": null,
              "ssl-context-service": null,
              "ssl-client-auth": "REQUIRED",
              "Mongo Collection Name": "batch",
              "record-reader": "a6f0a016-e6cd-34a6-b697-9ead4c7970a2",
              "Mongo Database Name": "twitter",
              "Write Concern": "ACKNOWLEDGED"
            },
            "propertyDescriptors": {
              "mongo-client-service": {
                "name": "mongo-client-service",
                "displayName": "Client Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "insert_count": {
                "name": "insert_count",
                "displayName": "Insert Batch Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Mongo URI": {
                "name": "Mongo URI",
                "displayName": "Mongo URI",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "ssl-context-service": {
                "name": "ssl-context-service",
                "displayName": "SSL Context Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "ssl-client-auth": {
                "name": "ssl-client-auth",
                "displayName": "Client Auth",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Mongo Collection Name": {
                "name": "Mongo Collection Name",
                "displayName": "Mongo Collection Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Mongo Database Name": {
                "name": "Mongo Database Name",
                "displayName": "Mongo Database Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Write Concern": {
                "name": "Write Concern",
                "displayName": "Write Concern",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "success"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "6680df2d-2e82-3e4c-9982-06b58671bdd0",
            "name": "QueryRecord",
            "comments": "",
            "position": {
              "x": 1448.0,
              "y": 1032.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.QueryRecord",
            "properties": {
              "cache-schema": "true",
              "dbf-default-precision": "10",
              "record-writer": "1c7f0576-f8b5-3e5f-ae15-cd33a4954b17",
              "count": "SELECT tag AS TAG_NAME, lang, count(*) AS NB_HASH FROM FLOWFILE GROUP BY (tag, lang) ORDER BY count(*)DESC",
              "record-reader": "a6f0a016-e6cd-34a6-b697-9ead4c7970a2",
              "include-zero-record-flowfiles": "true",
              "dbf-default-scale": "0"
            },
            "propertyDescriptors": {
              "cache-schema": {
                "name": "cache-schema",
                "displayName": "Cache Schema",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "dbf-default-precision": {
                "name": "dbf-default-precision",
                "displayName": "Default Decimal Precision",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "count": {
                "name": "count",
                "displayName": "count",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "include-zero-record-flowfiles": {
                "name": "include-zero-record-flowfiles",
                "displayName": "Include Zero Record FlowFiles",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "dbf-default-scale": {
                "name": "dbf-default-scale",
                "displayName": "Default Decimal Scale",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "original"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "15a1ad05-e9fa-31cc-bec3-6dfd7c36da82",
            "name": "DeleteMongoStream",
            "comments": "",
            "position": {
              "x": 696.0,
              "y": 488.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-mongodb-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.mongodb.DeleteMongo",
            "properties": {
              "mongo-client-service": "c6098746-5a47-3570-8de1-4c539399e94b",
              "delete-mongo-fail-on-no-delete": "true",
              "Mongo URI": null,
              "ssl-context-service": null,
              "ssl-client-auth": "NONE",
              "delete-mongo-delete-mode": "many",
              "Mongo Collection Name": "stream",
              "Mongo Database Name": "twitter",
              "Write Concern": "ACKNOWLEDGED"
            },
            "propertyDescriptors": {
              "mongo-client-service": {
                "name": "mongo-client-service",
                "displayName": "Client Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "delete-mongo-fail-on-no-delete": {
                "name": "delete-mongo-fail-on-no-delete",
                "displayName": "Fail When Nothing Is Deleted",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Mongo URI": {
                "name": "Mongo URI",
                "displayName": "Mongo URI",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "ssl-context-service": {
                "name": "ssl-context-service",
                "displayName": "SSL Context Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "ssl-client-auth": {
                "name": "ssl-client-auth",
                "displayName": "Client Auth",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "delete-mongo-delete-mode": {
                "name": "delete-mongo-delete-mode",
                "displayName": "Delete Mode",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Mongo Collection Name": {
                "name": "Mongo Collection Name",
                "displayName": "Mongo Collection Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Mongo Database Name": {
                "name": "Mongo Database Name",
                "displayName": "Mongo Database Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Write Concern": {
                "name": "Write Concern",
                "displayName": "Write Concern",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "success"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "4a799109-0a61-307c-b8aa-bcac0f215ae1",
            "name": "PartitionRecord",
            "comments": "",
            "position": {
              "x": 1456.0,
              "y": 872.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.PartitionRecord",
            "properties": {
              "date": "/WINDOW_START",
              "record-writer": "1c7f0576-f8b5-3e5f-ae15-cd33a4954b17",
              "record-reader": "a6f0a016-e6cd-34a6-b697-9ead4c7970a2"
            },
            "propertyDescriptors": {
              "date": {
                "name": "date",
                "displayName": "date",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "original"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "b22b3b18-ac8e-3e00-87c6-50b2477b06e5",
            "name": "ListHDFS",
            "comments": "",
            "position": {
              "x": 1432.0,
              "y": 176.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-hadoop-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.hadoop.ListHDFS",
            "properties": {
              "Hadoop Configuration Resources": "${HADOOP_CONF}",
              "maximum-file-age": null,
              "record-writer": null,
              "Additional Classpath Resources": null,
              "Distributed Cache Service": null,
              "Recurse Subdirectories": "false",
              "file-filter-mode": "filter-mode-files-only",
              "File Filter": "[^\\.].*",
              "kerberos-credentials-service": null,
              "Kerberos Keytab": null,
              "Kerberos Principal": null,
              "Kerberos Relogin Period": "4 hours",
              "minimum-file-age": null,
              "Directory": "/twitter/raw/${now():toNumber():minus(3600000):format(\"dd-MM-yyy HH\")}/"
            },
            "propertyDescriptors": {
              "Hadoop Configuration Resources": {
                "name": "Hadoop Configuration Resources",
                "displayName": "Hadoop Configuration Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "maximum-file-age": {
                "name": "maximum-file-age",
                "displayName": "Maximum File Age",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Additional Classpath Resources": {
                "name": "Additional Classpath Resources",
                "displayName": "Additional Classpath Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Distributed Cache Service": {
                "name": "Distributed Cache Service",
                "displayName": "Distributed Cache Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Recurse Subdirectories": {
                "name": "Recurse Subdirectories",
                "displayName": "Recurse Subdirectories",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "file-filter-mode": {
                "name": "file-filter-mode",
                "displayName": "File Filter Mode",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "File Filter": {
                "name": "File Filter",
                "displayName": "File Filter",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "kerberos-credentials-service": {
                "name": "kerberos-credentials-service",
                "displayName": "Kerberos Credentials Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Kerberos Password": {
                "name": "Kerberos Password",
                "displayName": "Kerberos Password",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "Kerberos Keytab": {
                "name": "Kerberos Keytab",
                "displayName": "Kerberos Keytab",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Principal": {
                "name": "Kerberos Principal",
                "displayName": "Kerberos Principal",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Relogin Period": {
                "name": "Kerberos Relogin Period",
                "displayName": "Kerberos Relogin Period",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "minimum-file-age": {
                "name": "minimum-file-age",
                "displayName": "Minimum File Age",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Directory": {
                "name": "Directory",
                "displayName": "Directory",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 0 0/1 1/1 * ? *",
            "schedulingStrategy": "CRON_DRIVEN",
            "executionNode": "PRIMARY",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "7012a253-8218-35fa-b397-4950ad0b85b3",
            "name": "MergeRecord",
            "comments": "",
            "position": {
              "x": 1440.0,
              "y": 696.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.MergeRecord",
            "properties": {
              "max-bin-age": "20 s",
              "correlation-attribute-name": "date",
              "Attribute Strategy": "Keep Only Common Attributes",
              "min-records": "1500",
              "max-bin-size": null,
              "record-writer": "1c7f0576-f8b5-3e5f-ae15-cd33a4954b17",
              "merge-strategy": "Bin-Packing Algorithm",
              "record-reader": "a6f0a016-e6cd-34a6-b697-9ead4c7970a2",
              "max-records": "100000",
              "min-bin-size": "1 MB",
              "max.bin.count": "15"
            },
            "propertyDescriptors": {
              "max-bin-age": {
                "name": "max-bin-age",
                "displayName": "Max Bin Age",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "correlation-attribute-name": {
                "name": "correlation-attribute-name",
                "displayName": "Correlation Attribute Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Attribute Strategy": {
                "name": "Attribute Strategy",
                "displayName": "Attribute Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "min-records": {
                "name": "min-records",
                "displayName": "Minimum Number of Records",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "max-bin-size": {
                "name": "max-bin-size",
                "displayName": "Maximum Bin Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "merge-strategy": {
                "name": "merge-strategy",
                "displayName": "Merge Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "max-records": {
                "name": "max-records",
                "displayName": "Maximum Number of Records",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "min-bin-size": {
                "name": "min-bin-size",
                "displayName": "Minimum Bin Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "max.bin.count": {
                "name": "max.bin.count",
                "displayName": "Maximum Number of Bins",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "1 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 2,
            "autoTerminatedRelationships": [
              "original"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "0bc3c218-5c20-30ff-babd-8a7b02662bed",
            "name": "UpdateRecord",
            "comments": "",
            "position": {
              "x": 1448.0,
              "y": 1248.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.UpdateRecord",
            "properties": {
              "/WINDOW_START": "${date:toDate(\"dd-MM-yyyy HH\"):toNumber():minus(0):format(\"yyyy-MM-dd HH:00:00.000\"):toDate(\"yyyy-MM-dd HH:00:00.000\"):format(\"yyyy-MM-dd HH:00:00.000\")}",
              "/WINDOW_END": "${date:toDate(\"dd-MM-yyyy HH\"):toNumber():plus(3600000):format(\"yyyy-MM-dd HH:00:00.000\"):toDate(\"yyyy-MM-dd HH:00:00.000\"):format(\"yyyy-MM-dd HH:00:00.000\")}",
              "/ORIGINE": "batch",
              "record-writer": "1c7f0576-f8b5-3e5f-ae15-cd33a4954b17",
              "record-reader": "a6f0a016-e6cd-34a6-b697-9ead4c7970a2",
              "replacement-value-strategy": "literal-value"
            },
            "propertyDescriptors": {
              "/WINDOW_START": {
                "name": "/WINDOW_START",
                "displayName": "/WINDOW_START",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "/WINDOW_END": {
                "name": "/WINDOW_END",
                "displayName": "/WINDOW_END",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "/ORIGINE": {
                "name": "/ORIGINE",
                "displayName": "/ORIGINE",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "replacement-value-strategy": {
                "name": "replacement-value-strategy",
                "displayName": "Replacement Value Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          }
        ],
        "inputPorts": [],
        "outputPorts": [
          {
            "identifier": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
            "name": "error",
            "comments": "",
            "position": {
              "x": 744.0,
              "y": 960.0
            },
            "type": "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount": 1,
            "allowRemoteAccess": false,
            "componentType": "OUTPUT_PORT",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          }
        ],
        "connections": [
          {
            "identifier": "07cf93f5-5544-3b54-ae2f-f442a7cde75a",
            "name": "",
            "source": {
              "id": "6680df2d-2e82-3e4c-9982-06b58671bdd0",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "QueryRecord",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "23a31e8b-50bc-3c68-9d99-34b7b8d57eb8",
            "name": "",
            "source": {
              "id": "7012a253-8218-35fa-b397-4950ad0b85b3",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "MergeRecord",
              "comments": ""
            },
            "destination": {
              "id": "4a799109-0a61-307c-b8aa-bcac0f215ae1",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "PartitionRecord",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "merged"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "76b8a3cf-60b2-3508-af9b-99cbe473f57c",
            "name": "",
            "source": {
              "id": "169406b8-abcd-34e3-90ba-10f997879960",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "UpdateAttribute",
              "comments": ""
            },
            "destination": {
              "id": "7012a253-8218-35fa-b397-4950ad0b85b3",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "MergeRecord",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 20000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "6a815a2a-df16-303e-9f6a-5f407e869259",
            "name": "",
            "source": {
              "id": "15a1ad05-e9fa-31cc-bec3-6dfd7c36da82",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "DeleteMongoStream",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "690847bb-4a11-3a26-88b4-c4ae3325fc38",
            "name": "",
            "source": {
              "id": "6680df2d-2e82-3e4c-9982-06b58671bdd0",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "QueryRecord",
              "comments": ""
            },
            "destination": {
              "id": "0bc3c218-5c20-30ff-babd-8a7b02662bed",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "UpdateRecord",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "count"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "7d7b8945-33c7-330b-820e-89b9fd0ab9c3",
            "name": "",
            "source": {
              "id": "7012a253-8218-35fa-b397-4950ad0b85b3",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "MergeRecord",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "89c55d97-9702-3ac5-8dc6-b12b51e4615c",
            "name": "",
            "source": {
              "id": "707fa583-507e-3de9-b48d-9f4cdac14eb9",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "FetchHDFS",
              "comments": ""
            },
            "destination": {
              "id": "169406b8-abcd-34e3-90ba-10f997879960",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "UpdateAttribute",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "93d1adee-12f9-35cb-b63a-12880ffde149",
            "name": "",
            "source": {
              "id": "542c4aef-41a0-3b04-b7d3-a16616e5a2f5",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "GenerateFlowFile",
              "comments": ""
            },
            "destination": {
              "id": "15a1ad05-e9fa-31cc-bec3-6dfd7c36da82",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "DeleteMongoStream",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "c5a24574-ae57-398b-9b5a-2d39a975b3ed",
            "name": "",
            "source": {
              "id": "0bc3c218-5c20-30ff-babd-8a7b02662bed",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "UpdateRecord",
              "comments": ""
            },
            "destination": {
              "id": "3fe89851-97a6-3a67-89a9-eb3f959bd880",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "PutMongoRecord",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "576b10f6-0934-3d6a-8faf-c2b4103d0b07",
            "name": "",
            "source": {
              "id": "4a799109-0a61-307c-b8aa-bcac0f215ae1",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "PartitionRecord",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "8e8c60bd-bc67-38b3-b60b-43284f84ec06",
            "name": "",
            "source": {
              "id": "4a799109-0a61-307c-b8aa-bcac0f215ae1",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "PartitionRecord",
              "comments": ""
            },
            "destination": {
              "id": "6680df2d-2e82-3e4c-9982-06b58671bdd0",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "QueryRecord",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "9122b9b2-370c-3566-befb-9caa4faa80e0",
            "name": "",
            "source": {
              "id": "707fa583-507e-3de9-b48d-9f4cdac14eb9",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "FetchHDFS",
              "comments": ""
            },
            "destination": {
              "id": "707fa583-507e-3de9-b48d-9f4cdac14eb9",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "FetchHDFS",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "comms.failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [
              {
                "x": 1900.9881591796875,
                "y": 386.1077880859375
              },
              {
                "x": 1900.9881591796875,
                "y": 436.1077880859375
              }
            ],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "8124783d-49ad-32bb-826b-c28919987426",
            "name": "",
            "source": {
              "id": "3fe89851-97a6-3a67-89a9-eb3f959bd880",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "PutMongoRecord",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "1b34bcb5-e7ca-394b-b6f4-37d5788145b8",
            "name": "",
            "source": {
              "id": "0bc3c218-5c20-30ff-babd-8a7b02662bed",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "UpdateRecord",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "f00ff94c-375a-372b-bd4c-02b4d4b72a1b",
            "name": "",
            "source": {
              "id": "707fa583-507e-3de9-b48d-9f4cdac14eb9",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "FetchHDFS",
              "comments": ""
            },
            "destination": {
              "id": "b1ac1cc0-8f5c-3292-8cda-a347a43801bf",
              "type": "OUTPUT_PORT",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "error",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          },
          {
            "identifier": "8963d674-f1a5-325d-b15d-6e0ea2774813",
            "name": "",
            "source": {
              "id": "b22b3b18-ac8e-3e00-87c6-50b2477b06e5",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "ListHDFS",
              "comments": ""
            },
            "destination": {
              "id": "707fa583-507e-3de9-b48d-9f4cdac14eb9",
              "type": "PROCESSOR",
              "groupId": "9a8e99cd-0285-3586-adbe-343539135baf",
              "name": "FetchHDFS",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "9a8e99cd-0285-3586-adbe-343539135baf"
          }
        ],
        "labels": [],
        "funnels": [],
        "controllerServices": [],
        "variables": {},
        "flowFileConcurrency": "UNBOUNDED",
        "flowFileOutboundPolicy": "STREAM_WHEN_AVAILABLE",
        "componentType": "PROCESS_GROUP",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "a9aefee5-9f16-3d34-981c-bec9a17126da",
        "name": "Ingest to Kafka and HDFS",
        "comments": "",
        "position": {
          "x": -304.0,
          "y": 808.0
        },
        "processGroups": [],
        "remoteProcessGroups": [],
        "processors": [
          {
            "identifier": "7b8331a9-5c1e-34ff-960f-ddf1c431c6a1",
            "name": "RouteOnAttribute",
            "comments": "",
            "position": {
              "x": 792.0,
              "y": 288.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.RouteOnAttribute",
            "properties": {
              "Routing Strategy": "Route to Property name",
              "noHT": "${fileSize:le(4)}"
            },
            "propertyDescriptors": {
              "Routing Strategy": {
                "name": "Routing Strategy",
                "displayName": "Routing Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "noHT": {
                "name": "noHT",
                "displayName": "noHT",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "noHT"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "04081242-76ef-3a7b-9c4e-93e9375d282a",
            "name": "SplitJson",
            "comments": "",
            "position": {
              "x": 792.0,
              "y": 488.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.SplitJson",
            "properties": {
              "Null Value Representation": "empty string",
              "JsonPath Expression": "$"
            },
            "propertyDescriptors": {
              "Null Value Representation": {
                "name": "Null Value Representation",
                "displayName": "Null Value Representation",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "JsonPath Expression": {
                "name": "JsonPath Expression",
                "displayName": "JsonPath Expression",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "original"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "09f2b102-9867-3924-b728-bf36862bfcd8",
            "name": "UpdateAttribute",
            "comments": "",
            "position": {
              "x": 216.0,
              "y": 960.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-update-attribute-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.attributes.UpdateAttribute",
            "properties": {
              "date": "${date:toDate(\"EEE MMM dd HH:mm:ss +0000 yyyy\"):format(\"dd-MM-yyyy HH\")}",
              "Delete Attributes Expression": null,
              "filename": "${UUID()}.avro.gz",
              "Store State": "Do not store state",
              "canonical-value-lookup-cache-size": "100",
              "Stateful Variables Initial Value": null
            },
            "propertyDescriptors": {
              "date": {
                "name": "date",
                "displayName": "date",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Delete Attributes Expression": {
                "name": "Delete Attributes Expression",
                "displayName": "Delete Attributes Expression",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "filename": {
                "name": "filename",
                "displayName": "filename",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Store State": {
                "name": "Store State",
                "displayName": "Store State",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "canonical-value-lookup-cache-size": {
                "name": "canonical-value-lookup-cache-size",
                "displayName": "Cache Value Lookup Cache Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Stateful Variables Initial Value": {
                "name": "Stateful Variables Initial Value",
                "displayName": "Stateful Variables Initial Value",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "5a3aef97-2376-3504-923a-a570cf00a8f3",
            "name": "GetTwitter",
            "comments": "",
            "position": {
              "x": 784.0,
              "y": -120.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-social-media-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.twitter.GetTwitter",
            "properties": {
              "max-client-error-retries": "5",
              "Languages": "en",
              "IDs to Follow": null,
              "Twitter Endpoint": "Sample Endpoint",
              "Locations to Filter On": null,
              "Terms to Filter On": null
            },
            "propertyDescriptors": {
              "Consumer Key": {
                "name": "Consumer Key",
                "displayName": "Consumer Key",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "Consumer Secret": {
                "name": "Consumer Secret",
                "displayName": "Consumer Secret",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "Access Token": {
                "name": "Access Token",
                "displayName": "Access Token",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "max-client-error-retries": {
                "name": "max-client-error-retries",
                "displayName": "Max Client Error Retries",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Languages": {
                "name": "Languages",
                "displayName": "Languages",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "IDs to Follow": {
                "name": "IDs to Follow",
                "displayName": "IDs to Follow",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Twitter Endpoint": {
                "name": "Twitter Endpoint",
                "displayName": "Twitter Endpoint",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Locations to Filter On": {
                "name": "Locations to Filter On",
                "displayName": "Locations to Filter On",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Terms to Filter On": {
                "name": "Terms to Filter On",
                "displayName": "Terms to Filter On",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Access Token Secret": {
                "name": "Access Token Secret",
                "displayName": "Access Token Secret",
                "identifiesControllerService": false,
                "sensitive": true
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 50,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "10d0495f-ab4e-3d71-a973-fc3b52115158",
            "name": "JoltTransformJSON",
            "comments": "",
            "position": {
              "x": 792.0,
              "y": 96.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.JoltTransformJSON",
            "properties": {
              "jolt-spec": "[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"id\": \"id\",\n\t\t\"lang\": \"lang\",\n\t\t\"created_at\": \"created_at\",\n\t\t\"retweeted_status\": {\n\t\t\t\"extended_tweet\": {\n\t\t\t\t\"entities\": {\n\t\t\t\t\t\"hashtags\": {\n\t\t\t\t\t\t\"*\": {\n\t\t\t\t\t\t\t\"text\": \"tag_from_retweet[]\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"entities\": {\n\t\t\t\"hashtags\": {\n\t\t\t\t\"*\": {\n\t\t\t\t\t\"text\": \"tag_from_retweet[]\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}, {\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"tag_from_retweet\": {\n\t\t\t\"*\": {\n\t\t\t\t\"@(2,lang)\": \"[&1].lang\",\n\t\t\t\t\"@(2,id)\": \"[&1].id\",\n\t\t\t\t\"@(2,created_at)\": \"[&1].created_at\",\n\t\t\t\t\"@\": \"[&1].tag\"\n\t\t\t}\n\t\t}\n\n\t}\n}, {\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": \"[]\"\n\n\t}\n}, {\n\t\"operation\": \"default\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"lang\": \"\"\n\t\t}\n\t}\n}]",
              "jolt-transform": "jolt-transform-chain",
              "jolt-custom-class": null,
              "jolt-custom-modules": null,
              "pretty_print": "false",
              "Transform Cache Size": "1"
            },
            "propertyDescriptors": {
              "jolt-spec": {
                "name": "jolt-spec",
                "displayName": "Jolt Specification",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "jolt-transform": {
                "name": "jolt-transform",
                "displayName": "Jolt Transformation DSL",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "jolt-custom-class": {
                "name": "jolt-custom-class",
                "displayName": "Custom Transformation Class Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "jolt-custom-modules": {
                "name": "jolt-custom-modules",
                "displayName": "Custom Module Directory",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "pretty_print": {
                "name": "pretty_print",
                "displayName": "Pretty Print",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Transform Cache Size": {
                "name": "Transform Cache Size",
                "displayName": "Transform Cache Size",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "a3741a57-9933-3c7d-832f-728e5a1ffb89",
            "name": "PutHDFS",
            "comments": "",
            "position": {
              "x": 816.0,
              "y": 1216.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-hadoop-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.hadoop.PutHDFS",
            "properties": {
              "Permissions umask": null,
              "Hadoop Configuration Resources": "${HADOOP_CONF}",
              "Remote Owner": null,
              "Additional Classpath Resources": null,
              "Compression codec": "NONE",
              "IO Buffer Size": null,
              "Remote Group": null,
              "Block Size": null,
              "kerberos-credentials-service": null,
              "Kerberos Keytab": null,
              "Ignore Locality": "false",
              "Kerberos Principal": null,
              "Replication": null,
              "Kerberos Relogin Period": "4 hours",
              "Directory": "/twitter/raw/${date}",
              "Conflict Resolution Strategy": "fail"
            },
            "propertyDescriptors": {
              "Permissions umask": {
                "name": "Permissions umask",
                "displayName": "Permissions umask",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Hadoop Configuration Resources": {
                "name": "Hadoop Configuration Resources",
                "displayName": "Hadoop Configuration Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Remote Owner": {
                "name": "Remote Owner",
                "displayName": "Remote Owner",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Additional Classpath Resources": {
                "name": "Additional Classpath Resources",
                "displayName": "Additional Classpath Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Compression codec": {
                "name": "Compression codec",
                "displayName": "Compression codec",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "IO Buffer Size": {
                "name": "IO Buffer Size",
                "displayName": "IO Buffer Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Remote Group": {
                "name": "Remote Group",
                "displayName": "Remote Group",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Block Size": {
                "name": "Block Size",
                "displayName": "Block Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "kerberos-credentials-service": {
                "name": "kerberos-credentials-service",
                "displayName": "Kerberos Credentials Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Kerberos Password": {
                "name": "Kerberos Password",
                "displayName": "Kerberos Password",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "Kerberos Keytab": {
                "name": "Kerberos Keytab",
                "displayName": "Kerberos Keytab",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Ignore Locality": {
                "name": "Ignore Locality",
                "displayName": "Ignore Locality",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Principal": {
                "name": "Kerberos Principal",
                "displayName": "Kerberos Principal",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Replication": {
                "name": "Replication",
                "displayName": "Replication",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Relogin Period": {
                "name": "Kerberos Relogin Period",
                "displayName": "Kerberos Relogin Period",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Directory": {
                "name": "Directory",
                "displayName": "Directory",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Conflict Resolution Strategy": {
                "name": "Conflict Resolution Strategy",
                "displayName": "Conflict Resolution Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "success"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "6498592d-cc91-3f71-9eeb-54d396b435cc",
            "name": "PublishKafkaRecord_2_6",
            "comments": "",
            "position": {
              "x": 1169.643310546875,
              "y": 688.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-kafka-2-6-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.kafka.pubsub.PublishKafkaRecord_2_6",
            "properties": {
              "compression.type": "none",
              "attribute-name-regex": null,
              "record-writer": "669d9799-e231-3529-bf7d-32b43bc7ec4a",
              "bootstrap.servers": "broker:29092",
              "sasl.kerberos.principal": null,
              "sasl.kerberos.service.name": null,
              "kerberos-credentials-service": null,
              "partition": null,
              "sasl.mechanism": "GSSAPI",
              "max.block.ms": "5 sec",
              "record-reader": "e496521a-5720-30db-9e36-27b4a3dec992",
              "message-header-encoding": "UTF-8",
              "transactional-id-prefix": null,
              "ack.wait.time": "5 secs",
              "sasl.username": null,
              "use-transactions": "true",
              "acks": "all",
              "security.protocol": "PLAINTEXT",
              "ssl.context.service": null,
              "max.request.size": "1 MB",
              "sasl.token.auth": "false",
              "message-key-field": null,
              "partitioner.class": "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
              "sasl.kerberos.keytab": null,
              "topic": "twitter"
            },
            "propertyDescriptors": {
              "compression.type": {
                "name": "compression.type",
                "displayName": "Compression Type",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "attribute-name-regex": {
                "name": "attribute-name-regex",
                "displayName": "Attributes to Send as Headers (Regex)",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "bootstrap.servers": {
                "name": "bootstrap.servers",
                "displayName": "Kafka Brokers",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.kerberos.principal": {
                "name": "sasl.kerberos.principal",
                "displayName": "Kerberos Principal",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.kerberos.service.name": {
                "name": "sasl.kerberos.service.name",
                "displayName": "Kerberos Service Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "kerberos-credentials-service": {
                "name": "kerberos-credentials-service",
                "displayName": "Kerberos Credentials Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "partition": {
                "name": "partition",
                "displayName": "Partition",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.mechanism": {
                "name": "sasl.mechanism",
                "displayName": "SASL Mechanism",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "max.block.ms": {
                "name": "max.block.ms",
                "displayName": "Max Metadata Wait Time",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "message-header-encoding": {
                "name": "message-header-encoding",
                "displayName": "Message Header Encoding",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "transactional-id-prefix": {
                "name": "transactional-id-prefix",
                "displayName": "Transactional Id Prefix",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "ack.wait.time": {
                "name": "ack.wait.time",
                "displayName": "Acknowledgment Wait Time",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.username": {
                "name": "sasl.username",
                "displayName": "Username",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "use-transactions": {
                "name": "use-transactions",
                "displayName": "Use Transactions",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "acks": {
                "name": "acks",
                "displayName": "Delivery Guarantee",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "security.protocol": {
                "name": "security.protocol",
                "displayName": "Security Protocol",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "ssl.context.service": {
                "name": "ssl.context.service",
                "displayName": "SSL Context Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "max.request.size": {
                "name": "max.request.size",
                "displayName": "Max Request Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.token.auth": {
                "name": "sasl.token.auth",
                "displayName": "Token Auth",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "message-key-field": {
                "name": "message-key-field",
                "displayName": "Message Key Field",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "partitioner.class": {
                "name": "partitioner.class",
                "displayName": "Partitioner class",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.kerberos.keytab": {
                "name": "sasl.kerberos.keytab",
                "displayName": "Kerberos Keytab",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "topic": {
                "name": "topic",
                "displayName": "Topic Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "sasl.password": {
                "name": "sasl.password",
                "displayName": "Password",
                "identifiesControllerService": false,
                "sensitive": true
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "success"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "560ca00f-c348-3ff8-ad28-f8a5650c1fbe",
            "name": "UpdateAttribute",
            "comments": "",
            "position": {
              "x": 456.0,
              "y": 1416.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-update-attribute-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.attributes.UpdateAttribute",
            "properties": {
              "Delete Attributes Expression": null,
              "filename": "${UUID()}.avro.gz",
              "Store State": "Do not store state",
              "canonical-value-lookup-cache-size": "100",
              "Stateful Variables Initial Value": null
            },
            "propertyDescriptors": {
              "Delete Attributes Expression": {
                "name": "Delete Attributes Expression",
                "displayName": "Delete Attributes Expression",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "filename": {
                "name": "filename",
                "displayName": "filename",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Store State": {
                "name": "Store State",
                "displayName": "Store State",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "canonical-value-lookup-cache-size": {
                "name": "canonical-value-lookup-cache-size",
                "displayName": "Cache Value Lookup Cache Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Stateful Variables Initial Value": {
                "name": "Stateful Variables Initial Value",
                "displayName": "Stateful Variables Initial Value",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "cafbcc3c-b062-3b00-9c49-ea69fab488a7",
            "name": "MergeRecord",
            "comments": "",
            "position": {
              "x": 216.0,
              "y": 1200.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.MergeRecord",
            "properties": {
              "max-bin-age": null,
              "correlation-attribute-name": "${date}",
              "Attribute Strategy": "Keep Only Common Attributes",
              "min-records": "1",
              "max-bin-size": null,
              "record-writer": "1c7f0576-f8b5-3e5f-ae15-cd33a4954b17",
              "merge-strategy": "Bin-Packing Algorithm",
              "record-reader": "e496521a-5720-30db-9e36-27b4a3dec992",
              "max-records": "1000",
              "min-bin-size": "0 B",
              "max.bin.count": "10"
            },
            "propertyDescriptors": {
              "max-bin-age": {
                "name": "max-bin-age",
                "displayName": "Max Bin Age",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "correlation-attribute-name": {
                "name": "correlation-attribute-name",
                "displayName": "Correlation Attribute Name",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Attribute Strategy": {
                "name": "Attribute Strategy",
                "displayName": "Attribute Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "min-records": {
                "name": "min-records",
                "displayName": "Minimum Number of Records",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "max-bin-size": {
                "name": "max-bin-size",
                "displayName": "Maximum Bin Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-writer": {
                "name": "record-writer",
                "displayName": "Record Writer",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "merge-strategy": {
                "name": "merge-strategy",
                "displayName": "Merge Strategy",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "record-reader": {
                "name": "record-reader",
                "displayName": "Record Reader",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "max-records": {
                "name": "max-records",
                "displayName": "Maximum Number of Records",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "min-bin-size": {
                "name": "min-bin-size",
                "displayName": "Minimum Bin Size",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "max.bin.count": {
                "name": "max.bin.count",
                "displayName": "Maximum Number of Bins",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [
              "original"
            ],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "3b6b2391-db85-34bd-8b55-09000958b47d",
            "name": "EvaluateJsonPath",
            "comments": "",
            "position": {
              "x": 217.643310546875,
              "y": 688.0
            },
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-nar",
              "version": "1.13.2"
            },
            "style": {},
            "type": "org.apache.nifi.processors.standard.EvaluateJsonPath",
            "properties": {
              "date": "$.created_at",
              "Destination": "flowfile-attribute",
              "Return Type": "auto-detect",
              "Null Value Representation": "empty string",
              "Path Not Found Behavior": "ignore"
            },
            "propertyDescriptors": {
              "date": {
                "name": "date",
                "displayName": "date",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Destination": {
                "name": "Destination",
                "displayName": "Destination",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Return Type": {
                "name": "Return Type",
                "displayName": "Return Type",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Null Value Representation": {
                "name": "Null Value Representation",
                "displayName": "Null Value Representation",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Path Not Found Behavior": {
                "name": "Path Not Found Behavior",
                "displayName": "Path Not Found Behavior",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "schedulingPeriod": "0 sec",
            "schedulingStrategy": "TIMER_DRIVEN",
            "executionNode": "ALL",
            "penaltyDuration": "30 sec",
            "yieldDuration": "1 sec",
            "bulletinLevel": "WARN",
            "runDurationMillis": 0,
            "concurrentlySchedulableTaskCount": 1,
            "autoTerminatedRelationships": [],
            "scheduledState": "ENABLED",
            "componentType": "PROCESSOR",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          }
        ],
        "inputPorts": [],
        "outputPorts": [
          {
            "identifier": "5e25be13-0ea0-3256-902a-4fac74348318",
            "name": "errors",
            "comments": "",
            "position": {
              "x": 848.0,
              "y": 1016.0
            },
            "type": "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount": 1,
            "allowRemoteAccess": false,
            "componentType": "OUTPUT_PORT",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          }
        ],
        "connections": [
          {
            "identifier": "97b53854-ab62-3e30-b475-a337ddc9a2b0",
            "name": "",
            "source": {
              "id": "10d0495f-ab4e-3d71-a973-fc3b52115158",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "JoltTransformJSON",
              "comments": ""
            },
            "destination": {
              "id": "5e25be13-0ea0-3256-902a-4fac74348318",
              "type": "OUTPUT_PORT",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "errors",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [
              {
                "x": 1744.0,
                "y": 168.0
              },
              {
                "x": 1744.0,
                "y": 952.0
              }
            ],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "db4cee2f-8903-33bb-92af-d95f49ca8fa3",
            "name": "",
            "source": {
              "id": "04081242-76ef-3a7b-9c4e-93e9375d282a",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "SplitJson",
              "comments": ""
            },
            "destination": {
              "id": "3b6b2391-db85-34bd-8b55-09000958b47d",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "EvaluateJsonPath",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "split"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "5d2d91be-ae9d-3903-a723-854a7032e5d4",
            "name": "",
            "source": {
              "id": "04081242-76ef-3a7b-9c4e-93e9375d282a",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "SplitJson",
              "comments": ""
            },
            "destination": {
              "id": "5e25be13-0ea0-3256-902a-4fac74348318",
              "type": "OUTPUT_PORT",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "errors",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "55098410-b1b6-3d63-995d-c3cac29a06c3",
            "name": "",
            "source": {
              "id": "560ca00f-c348-3ff8-ad28-f8a5650c1fbe",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "UpdateAttribute",
              "comments": ""
            },
            "destination": {
              "id": "a3741a57-9933-3c7d-832f-728e5a1ffb89",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "PutHDFS",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "ad9ee3d1-217f-3d28-a9ce-475cf94fed45",
            "name": "",
            "source": {
              "id": "cafbcc3c-b062-3b00-9c49-ea69fab488a7",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "MergeRecord",
              "comments": ""
            },
            "destination": {
              "id": "5e25be13-0ea0-3256-902a-4fac74348318",
              "type": "OUTPUT_PORT",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "errors",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "2cb61cdf-fdb0-351f-8c49-88cf5eb5402c",
            "name": "",
            "source": {
              "id": "3b6b2391-db85-34bd-8b55-09000958b47d",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "EvaluateJsonPath",
              "comments": ""
            },
            "destination": {
              "id": "5e25be13-0ea0-3256-902a-4fac74348318",
              "type": "OUTPUT_PORT",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "errors",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure",
              "unmatched"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "a671ca25-aeab-3117-aacd-cca772323c2e",
            "name": "",
            "source": {
              "id": "5a3aef97-2376-3504-923a-a570cf00a8f3",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "GetTwitter",
              "comments": ""
            },
            "destination": {
              "id": "10d0495f-ab4e-3d71-a973-fc3b52115158",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "JoltTransformJSON",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "f16b7309-0695-3155-b7f4-5e59037b5ddd",
            "name": "",
            "source": {
              "id": "10d0495f-ab4e-3d71-a973-fc3b52115158",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "JoltTransformJSON",
              "comments": ""
            },
            "destination": {
              "id": "7b8331a9-5c1e-34ff-960f-ddf1c431c6a1",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "RouteOnAttribute",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "c48433c0-bdd2-38f6-a6a9-7882992e1baf",
            "name": "",
            "source": {
              "id": "04081242-76ef-3a7b-9c4e-93e9375d282a",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "SplitJson",
              "comments": ""
            },
            "destination": {
              "id": "6498592d-cc91-3f71-9eeb-54d396b435cc",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "PublishKafkaRecord_2_6",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "split"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "4a59e60a-2995-3fcc-b217-818c6e2c0795",
            "name": "",
            "source": {
              "id": "a3741a57-9933-3c7d-832f-728e5a1ffb89",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "PutHDFS",
              "comments": ""
            },
            "destination": {
              "id": "a3741a57-9933-3c7d-832f-728e5a1ffb89",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "PutHDFS",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [
              {
                "x": 1281.140380859375,
                "y": 1254.0897216796875
              },
              {
                "x": 1281.140380859375,
                "y": 1304.0897216796875
              }
            ],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "9d657631-7930-3978-986c-50a20744a343",
            "name": "",
            "source": {
              "id": "3b6b2391-db85-34bd-8b55-09000958b47d",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "EvaluateJsonPath",
              "comments": ""
            },
            "destination": {
              "id": "09f2b102-9867-3924-b728-bf36862bfcd8",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "UpdateAttribute",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "matched"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "32042662-44c3-3778-8c22-69109781732c",
            "name": "",
            "source": {
              "id": "6498592d-cc91-3f71-9eeb-54d396b435cc",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "PublishKafkaRecord_2_6",
              "comments": ""
            },
            "destination": {
              "id": "6498592d-cc91-3f71-9eeb-54d396b435cc",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "PublishKafkaRecord_2_6",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "failure"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [
              {
                "x": 1638.643310546875,
                "y": 727.0
              },
              {
                "x": 1638.643310546875,
                "y": 777.0
              }
            ],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "8477ad75-26f3-3599-9727-341d94b02dd0",
            "name": "",
            "source": {
              "id": "cafbcc3c-b062-3b00-9c49-ea69fab488a7",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "MergeRecord",
              "comments": ""
            },
            "destination": {
              "id": "560ca00f-c348-3ff8-ad28-f8a5650c1fbe",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "UpdateAttribute",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "merged"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "6ac6eb01-1dc8-3bc3-8be3-c30bf4b16839",
            "name": "",
            "source": {
              "id": "7b8331a9-5c1e-34ff-960f-ddf1c431c6a1",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "RouteOnAttribute",
              "comments": ""
            },
            "destination": {
              "id": "04081242-76ef-3a7b-9c4e-93e9375d282a",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "SplitJson",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "unmatched"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          },
          {
            "identifier": "903e87ad-4ede-32f3-a262-d12dba399de6",
            "name": "",
            "source": {
              "id": "09f2b102-9867-3924-b728-bf36862bfcd8",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "UpdateAttribute",
              "comments": ""
            },
            "destination": {
              "id": "cafbcc3c-b062-3b00-9c49-ea69fab488a7",
              "type": "PROCESSOR",
              "groupId": "a9aefee5-9f16-3d34-981c-bec9a17126da",
              "name": "MergeRecord",
              "comments": ""
            },
            "labelIndex": 1,
            "zIndex": 0,
            "selectedRelationships": [
              "success"
            ],
            "backPressureObjectThreshold": 10000,
            "backPressureDataSizeThreshold": "1 GB",
            "flowFileExpiration": "0 sec",
            "prioritizers": [],
            "bends": [],
            "loadBalanceStrategy": "DO_NOT_LOAD_BALANCE",
            "partitioningAttribute": "",
            "loadBalanceCompression": "DO_NOT_COMPRESS",
            "componentType": "CONNECTION",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          }
        ],
        "labels": [],
        "funnels": [],
        "controllerServices": [
          {
            "identifier": "040b419f-3bc9-3f92-a7be-4d48527b2f12",
            "name": "HiveConnectionPool",
            "comments": "",
            "type": "org.apache.nifi.dbcp.hive.HiveConnectionPool",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-hive-nar",
              "version": "1.13.2"
            },
            "controllerServiceApis": [
              {
                "type": "org.apache.nifi.dbcp.DBCPService",
                "bundle": {
                  "group": "org.apache.nifi",
                  "artifact": "nifi-standard-services-api-nar",
                  "version": "1.13.2"
                }
              },
              {
                "type": "org.apache.nifi.dbcp.hive.HiveDBCPService",
                "bundle": {
                  "group": "org.apache.nifi",
                  "artifact": "nifi-hive-services-api-nar",
                  "version": "1.13.2"
                }
              }
            ],
            "properties": {
              "kerberos-credentials-service": null,
              "Validation-query": null,
              "Kerberos Keytab": null,
              "hive-max-total-connections": "8",
              "hive-db-connect-url": "jdbc:hive2://hive-server:10000",
              "Kerberos Principal": null,
              "hive-config-resources": "/home/nifi/conf/hive-site.xml",
              "hive-max-wait-time": "500 millis",
              "hive-db-user": null
            },
            "propertyDescriptors": {
              "kerberos-credentials-service": {
                "name": "kerberos-credentials-service",
                "displayName": "Kerberos Credentials Service",
                "identifiesControllerService": true,
                "sensitive": false
              },
              "Kerberos Password": {
                "name": "Kerberos Password",
                "displayName": "Kerberos Password",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "Validation-query": {
                "name": "Validation-query",
                "displayName": "Validation query",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Keytab": {
                "name": "Kerberos Keytab",
                "displayName": "Kerberos Keytab",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "hive-max-total-connections": {
                "name": "hive-max-total-connections",
                "displayName": "Max Total Connections",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "hive-db-password": {
                "name": "hive-db-password",
                "displayName": "Password",
                "identifiesControllerService": false,
                "sensitive": true
              },
              "hive-db-connect-url": {
                "name": "hive-db-connect-url",
                "displayName": "Database Connection URL",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "Kerberos Principal": {
                "name": "Kerberos Principal",
                "displayName": "Kerberos Principal",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "hive-config-resources": {
                "name": "hive-config-resources",
                "displayName": "Hive Configuration Resources",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "hive-max-wait-time": {
                "name": "hive-max-wait-time",
                "displayName": "Max Wait Time",
                "identifiesControllerService": false,
                "sensitive": false
              },
              "hive-db-user": {
                "name": "hive-db-user",
                "displayName": "Database User",
                "identifiesControllerService": false,
                "sensitive": false
              }
            },
            "componentType": "CONTROLLER_SERVICE",
            "groupIdentifier": "a9aefee5-9f16-3d34-981c-bec9a17126da"
          }
        ],
        "variables": {},
        "flowFileConcurrency": "UNBOUNDED",
        "flowFileOutboundPolicy": "STREAM_WHEN_AVAILABLE",
        "componentType": "PROCESS_GROUP",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      }
    ],
    "remoteProcessGroups": [],
    "processors": [],
    "inputPorts": [],
    "outputPorts": [],
    "connections": [],
    "labels": [],
    "funnels": [],
    "controllerServices": [
      {
        "identifier": "1c7f0576-f8b5-3e5f-ae15-cd33a4954b17",
        "name": "AvroRecordSetWriter",
        "comments": "",
        "type": "org.apache.nifi.avro.AvroRecordSetWriter",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-record-serialization-services-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.serialization.RecordSetWriterFactory",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-services-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "compression-format": "NONE",
          "Schema Write Strategy": "avro-embedded",
          "schema-branch": null,
          "schema-name": "${schema.name}",
          "cache-size": "1000",
          "schema-registry": null,
          "schema-access-strategy": "inherit-record-schema",
          "schema-protocol-version": "1",
          "schema-version": null,
          "encoder-pool-size": "32",
          "schema-cache": null,
          "schema-text": "${avro.schema}"
        },
        "propertyDescriptors": {
          "compression-format": {
            "name": "compression-format",
            "displayName": "Compression Format",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "Schema Write Strategy": {
            "name": "Schema Write Strategy",
            "displayName": "Schema Write Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-branch": {
            "name": "schema-branch",
            "displayName": "Schema Branch",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-name": {
            "name": "schema-name",
            "displayName": "Schema Name",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "cache-size": {
            "name": "cache-size",
            "displayName": "Cache Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-registry": {
            "name": "schema-registry",
            "displayName": "Schema Registry",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "schema-access-strategy": {
            "name": "schema-access-strategy",
            "displayName": "Schema Access Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-protocol-version": {
            "name": "schema-protocol-version",
            "displayName": "Schema Protocol Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-version": {
            "name": "schema-version",
            "displayName": "Schema Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "encoder-pool-size": {
            "name": "encoder-pool-size",
            "displayName": "Encoder Pool Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-cache": {
            "name": "schema-cache",
            "displayName": "Schema Cache",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "schema-text": {
            "name": "schema-text",
            "displayName": "Schema Text",
            "identifiesControllerService": false,
            "sensitive": false
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "9ab2ad69-3675-3a2f-bfe6-8faab8cb3d82",
        "name": "ConfluentSchemaRegistry",
        "comments": "",
        "type": "org.apache.nifi.confluent.schemaregistry.ConfluentSchemaRegistry",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-confluent-platform-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.schemaregistry.services.SchemaRegistry",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-services-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "cache-expiration": "1 hour",
          "authentication-type": "NONE",
          "cache-size": "1000",
          "ssl-context": null,
          "url": "http://schema-registry:8081",
          "timeout": "30 secs",
          "username": null
        },
        "propertyDescriptors": {
          "cache-expiration": {
            "name": "cache-expiration",
            "displayName": "Cache Expiration",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "password": {
            "name": "password",
            "displayName": "Password",
            "identifiesControllerService": false,
            "sensitive": true
          },
          "authentication-type": {
            "name": "authentication-type",
            "displayName": "Authentication Type",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "cache-size": {
            "name": "cache-size",
            "displayName": "Cache Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "ssl-context": {
            "name": "ssl-context",
            "displayName": "SSL Context Service",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "url": {
            "name": "url",
            "displayName": "Schema Registry URLs",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "timeout": {
            "name": "timeout",
            "displayName": "Communications Timeout",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "username": {
            "name": "username",
            "displayName": "Username",
            "identifiesControllerService": false,
            "sensitive": false
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "a6f0a016-e6cd-34a6-b697-9ead4c7970a2",
        "name": "AvroReader",
        "comments": "",
        "type": "org.apache.nifi.avro.AvroReader",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-record-serialization-services-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.serialization.RecordReaderFactory",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-services-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "schema-branch": null,
          "schema-name": "${schema.name}",
          "cache-size": "1000",
          "schema-registry": null,
          "schema-access-strategy": "embedded-avro-schema",
          "schema-version": null,
          "schema-text": "${avro.schema}"
        },
        "propertyDescriptors": {
          "schema-branch": {
            "name": "schema-branch",
            "displayName": "Schema Branch",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-name": {
            "name": "schema-name",
            "displayName": "Schema Name",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "cache-size": {
            "name": "cache-size",
            "displayName": "Cache Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-registry": {
            "name": "schema-registry",
            "displayName": "Schema Registry",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "schema-access-strategy": {
            "name": "schema-access-strategy",
            "displayName": "Schema Access Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-version": {
            "name": "schema-version",
            "displayName": "Schema Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-text": {
            "name": "schema-text",
            "displayName": "Schema Text",
            "identifiesControllerService": false,
            "sensitive": false
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "e496521a-5720-30db-9e36-27b4a3dec992",
        "name": "JsonTreeReader",
        "comments": "",
        "type": "org.apache.nifi.json.JsonTreeReader",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-record-serialization-services-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.serialization.RecordReaderFactory",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-services-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "Timestamp Format": null,
          "schema-inference-cache": null,
          "Date Format": null,
          "schema-branch": null,
          "schema-name": "${schema.name}",
          "schema-registry": null,
          "Time Format": null,
          "schema-access-strategy": "infer-schema",
          "schema-version": null,
          "schema-text": "${avro.schema}"
        },
        "propertyDescriptors": {
          "Timestamp Format": {
            "name": "Timestamp Format",
            "displayName": "Timestamp Format",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-inference-cache": {
            "name": "schema-inference-cache",
            "displayName": "Schema Inference Cache",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "Date Format": {
            "name": "Date Format",
            "displayName": "Date Format",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-branch": {
            "name": "schema-branch",
            "displayName": "Schema Branch",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-name": {
            "name": "schema-name",
            "displayName": "Schema Name",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-registry": {
            "name": "schema-registry",
            "displayName": "Schema Registry",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "Time Format": {
            "name": "Time Format",
            "displayName": "Time Format",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-access-strategy": {
            "name": "schema-access-strategy",
            "displayName": "Schema Access Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-version": {
            "name": "schema-version",
            "displayName": "Schema Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-text": {
            "name": "schema-text",
            "displayName": "Schema Text",
            "identifiesControllerService": false,
            "sensitive": false
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "3f513de1-9e61-328e-bd48-882d18349fe4",
        "name": "AvroReaderConfluent",
        "comments": "",
        "type": "org.apache.nifi.avro.AvroReader",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-record-serialization-services-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.serialization.RecordReaderFactory",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-services-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "schema-branch": null,
          "schema-name": "${schema.name}",
          "cache-size": "1000",
          "schema-registry": "9ab2ad69-3675-3a2f-bfe6-8faab8cb3d82",
          "schema-access-strategy": "confluent-encoded",
          "schema-version": null,
          "schema-text": "${avro.schema}"
        },
        "propertyDescriptors": {
          "schema-branch": {
            "name": "schema-branch",
            "displayName": "Schema Branch",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-name": {
            "name": "schema-name",
            "displayName": "Schema Name",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "cache-size": {
            "name": "cache-size",
            "displayName": "Cache Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-registry": {
            "name": "schema-registry",
            "displayName": "Schema Registry",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "schema-access-strategy": {
            "name": "schema-access-strategy",
            "displayName": "Schema Access Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-version": {
            "name": "schema-version",
            "displayName": "Schema Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-text": {
            "name": "schema-text",
            "displayName": "Schema Text",
            "identifiesControllerService": false,
            "sensitive": false
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "669d9799-e231-3529-bf7d-32b43bc7ec4a",
        "name": "AvroRecordSetWriterConfluent",
        "comments": "",
        "type": "org.apache.nifi.avro.AvroRecordSetWriter",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-record-serialization-services-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.serialization.RecordSetWriterFactory",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-standard-services-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "compression-format": "NONE",
          "Schema Write Strategy": "confluent-encoded",
          "schema-branch": null,
          "schema-name": "twitter-value",
          "cache-size": "1000",
          "schema-registry": "9ab2ad69-3675-3a2f-bfe6-8faab8cb3d82",
          "schema-access-strategy": "schema-name",
          "schema-protocol-version": "1",
          "schema-version": null,
          "encoder-pool-size": "32",
          "schema-cache": null,
          "schema-text": "${avro.schema}"
        },
        "propertyDescriptors": {
          "compression-format": {
            "name": "compression-format",
            "displayName": "Compression Format",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "Schema Write Strategy": {
            "name": "Schema Write Strategy",
            "displayName": "Schema Write Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-branch": {
            "name": "schema-branch",
            "displayName": "Schema Branch",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-name": {
            "name": "schema-name",
            "displayName": "Schema Name",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "cache-size": {
            "name": "cache-size",
            "displayName": "Cache Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-registry": {
            "name": "schema-registry",
            "displayName": "Schema Registry",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "schema-access-strategy": {
            "name": "schema-access-strategy",
            "displayName": "Schema Access Strategy",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-protocol-version": {
            "name": "schema-protocol-version",
            "displayName": "Schema Protocol Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-version": {
            "name": "schema-version",
            "displayName": "Schema Version",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "encoder-pool-size": {
            "name": "encoder-pool-size",
            "displayName": "Encoder Pool Size",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "schema-cache": {
            "name": "schema-cache",
            "displayName": "Schema Cache",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "schema-text": {
            "name": "schema-text",
            "displayName": "Schema Text",
            "identifiesControllerService": false,
            "sensitive": false
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      },
      {
        "identifier": "c6098746-5a47-3570-8de1-4c539399e94b",
        "name": "MongoDBControllerService",
        "comments": "",
        "type": "org.apache.nifi.mongodb.MongoDBControllerService",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-mongodb-services-nar",
          "version": "1.13.2"
        },
        "controllerServiceApis": [
          {
            "type": "org.apache.nifi.mongodb.MongoDBClientService",
            "bundle": {
              "group": "org.apache.nifi",
              "artifact": "nifi-mongodb-client-service-api-nar",
              "version": "1.13.2"
            }
          }
        ],
        "properties": {
          "ssl-context-service": null,
          "ssl-client-auth": "NONE",
          "Database User": null,
          "mongo-uri": "mongodb://mongoDB:27017"
        },
        "propertyDescriptors": {
          "ssl-context-service": {
            "name": "ssl-context-service",
            "displayName": "SSL Context Service",
            "identifiesControllerService": true,
            "sensitive": false
          },
          "ssl-client-auth": {
            "name": "ssl-client-auth",
            "displayName": "Client Auth",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "Database User": {
            "name": "Database User",
            "displayName": "Database User",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "mongo-uri": {
            "name": "mongo-uri",
            "displayName": "Mongo URI",
            "identifiesControllerService": false,
            "sensitive": false
          },
          "Password": {
            "name": "Password",
            "displayName": "Password",
            "identifiesControllerService": false,
            "sensitive": true
          }
        },
        "componentType": "CONTROLLER_SERVICE",
        "groupIdentifier": "8dc59648-ed55-32bf-9e4e-7f5696487cab"
      }
    ],
    "variables": {
      "HADOOP_CONF": "/home/nifi/conf/core-site.xml"
    },
    "flowFileConcurrency": "UNBOUNDED",
    "flowFileOutboundPolicy": "STREAM_WHEN_AVAILABLE",
    "componentType": "PROCESS_GROUP"
  },
  "externalControllerServices": {},
  "parameterContexts": {},
  "flowEncodingVersion": "1.0"
}



